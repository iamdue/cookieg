!function(t,e){"function"==typeof define&&define.amd?define("CookieG",[],e):t.CookieG=e(t)}(this,function(e){var t,n,o,i,c=(document.currentScript||(t=document.getElementsByTagName("script"))[t.length-1]).getAttribute("data-config");function s(t){this.cookieconsentURLs={css:"//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css",script:"//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"},t.hasOwnProperty("css")&&(this.cookieconsentURLs.css=t.css),t.hasOwnProperty("script")&&(this.cookieconsentURLs.script=t.script),this.cookieOptions=t,this.init()}return s.prototype={init:function(){this.injectCSS(this.cookieconsentURLs.css),this.injectScript(this.cookieconsentURLs.script)},initCookieConsent:function(){var t=this;e.addEventListener("load",function(){e.hasOwnProperty("cookieconsent")?e.cookieconsent.initialise(t.cookieOptions):console.warn("Cookieconsent not detected")})},injectCSS:function(t,e){e=e||document.head;var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.setAttribute("class","cookiecss"),n.href=t,e.appendChild(n)},injectScript:function(t,e,n){var o=this,i=(e=e||document).createElement("script");i.type="text/javascript",i.async=!0,i.onload=function(){o.initCookieConsent()},i.onerror=function(){"function"!=typeof n&&(n=function(t){console.log(t)}),n(t+" cannot be added. (Not found, or script error.)")},i.setAttribute("class","cookiescript"),i.src=t,e.getElementsByTagName("head")[0].appendChild(i)}},void 0!==c&&(n=function(t){try{new s(JSON.parse(t))}catch(t){console.warn("Configuration file is not a JSON.")}},o=c,(i=new XMLHttpRequest).overrideMimeType("application/json"),i.open("GET",o,!0),i.onreadystatechange=function(){4==i.readyState&&"200"==i.status&&n(i.responseText)},i.send(null)),s});
